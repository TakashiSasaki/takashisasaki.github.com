<html>
<head>
    <title>Google OAuth2 sample</title>
<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.2/jquery.mobile.min.css" />
<meta name="viewport" content="width=device-width, initial-scale=1"/>
</head>
<body>
<div data-role="page">
<div class="ui-content" role="main">
    <a id="authorization_url" class="ui-btn ui-icon-left ui-icon-oauth" target="_blank">
        リダイレクト先 OOB、レスポンスタイプ codeで認証サーバを呼び出す。
        ユーザーが本アプリケーションを認可するともらえる認可コードを下にコピーして下さい。
    </a>
    <input name="code" placeholder="ここに認可コードを貼り付けて下さい" id="authorization_code">
    <button id="access_token_link">ここをクリックして認可コードをアクセストークンに引き換えて下さい。</button>
</div>
</div>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.2/jquery.mobile.min.js"></script>
<script>
    var token_url = "https://accounts.google.com/o/oauth2/token";
    var client_id = "982049359064-m16bre9h586ao9q3hh08hau26v4m7c9i.apps.googleusercontent.com";
    var client_secret = "4fNom33Z_nWujtQaFJzYIxjV";
    var authorization_url = "https://accounts.google.com/o/oauth2/auth?"
    + "scope=email%20profile&"
    + "state=%2Fprofile&"
    + "redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob&"
    + "response_type=code&"
    + "client_id=" + client_id;

    $(document).on("pagecreate", function(e,ui){
        $("#authorization_url").attr("href", authorization_url);
        $("#client_id").val(client_id);
        $("#client_secret").val(client_secret);
    });

    $("#access_token_link").on("click", function(){
        $.ajax(
                {
                    type:"post",
                    url: token_url,
                    data : {
                        client_id: client_id,
                        client_secret: client_secret,
                        grant_type: "authorization_code",
                        code: $("#authorization_code").val(),
                        redirect_uri : "urn:ietf:wg:oauth:2.0:oob"
                    }
                }
        ).done(function(){alert("done");});
    });
</script>
</body>
</html>
